define("io.ox/search/view",["io.ox/search/view-template","io.ox/core/extensions","io.ox/backbone/views"],function(i,e,n){"use strict";var o=n.point("io.ox/search/view").createView({tagName:"div",className:"io-ox-search container default-content-padding",init:function(i){this.baton.app=i.app,this.baton.$=this.$el},render:function(i){var n=this;return i=i||n.$el,n.baton.$container=i,e.point("io.ox/search/view/mobile").invoke("draw",i,n.baton),e.point("io.ox/search/view").invoke("draw",i,n.baton),this},idle:function(){var i=this.$el.find(".query"),e=this.$el.find(".busy");return i.find(".search-field").prop("disabled",!1),i.find(".btn-search>.fa").prop("disabled",!1),e.hide(),this},busy:function(){var i=this.$el.find(".query"),e=this.$el.find(".busy");return i.find(".search-field").prop("disabled",!0),i.find(".btn-search>.fa").prop("disabled",!0),e.show(),this},repaint:function(i){var n=this;e.point("io.ox/search/view").each(function(e){i.split(" ").forEach(function(i){i===e.id&&e.invoke("draw",n.$el,n.baton)})}),_.device("smartphone")&&e.point("io.ox/search/view/mobile").each(function(e){i.split(" ").forEach(function(i){i===e.id&&e.invoke("draw",n.$el,n.baton)})})},redraw:function(i){i=i||{};var e=$("<span>");return this.render(e),e.find(".search-field").val(this.$el.find(".search-field").val()),this.$el.empty(),this.$el.append(e.children()),i.closeSidepanel&&$(".io-ox-sidepopup","#io-ox-windowmanager-pane>.io-ox-search-window").detach(),this},focus:function(){return this.$el.find(".search-field").trigger("focus:custom"),this},getBaton:function(){return this.baton}});return{factory:{create:function(i,e,n){return new o({app:i,model:e,el:n})}}}});