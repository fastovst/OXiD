define("io.ox/files/actions/favorites",["io.ox/files/api","io.ox/core/folder/api"],function(o,e){"use strict";function r(r){var i;return"folder"===r.folder_id?(i=e.pool.getModel(r.id)).get("module")||(i=null):i=o.pool.get("detail").get(r.cid),i}function i(e){var i=[];e.forEach(function(e){var t=r(e);t&&(i.push(t),o.propagate("favorite:add",t))}),o.trigger("favorites:add",i)}function t(e){var i=[];e.forEach(function(e){var t=r(e);t&&(i.push(t),o.propagate("favorite:remove",t))}),o.trigger("favorites:remove",i)}return{add:function(o){i(o)},remove:function(o){t(o)}}});