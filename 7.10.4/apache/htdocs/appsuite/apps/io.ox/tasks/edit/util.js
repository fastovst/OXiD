define("io.ox/tasks/edit/util",["gettext!io.ox/tasks"],function(t){"use strict";return{buildProgress:function(e){e=e||0;var a=$('<input type="text" id="task-edit-progress-field" class="form-control progress-field">').val(e),s=$('<div class="input-group">').append(a,$('<div class="input-group-btn">').append($('<button type="button" class="btn btn-default" data-action="minus">').append($('<i class="fa fa-minus" aria-hidden="true">'),$('<span class="sr-only">').text(t("Minus"))).on("click",function(){var t=parseInt(a.val(),10);(t-=25)<0&&(t=0),t!==parseInt(a.val(),10)&&(a.val(t),a.trigger("change"))}),$('<button type="button" class="btn btn-default" data-action="plus">').append($('<i class="fa fa-plus" aria-hidden="true">'),$('<span class="sr-only">').text(t("Plus"))).on("click",function(){var t=parseInt(a.val(),10);(t+=25)>100&&(t=100),t!==parseInt(a.val(),10)&&(a.val(t),a.trigger("change"))})));return{progress:a,wrapper:s}},sanitizeBeforeSave:function(t){var e=t.attachmentList;e&&e.attachmentsToAdd.length+e.attachmentsToDelete.length>0&&(t.model.attributes.tempAttachmentIndicator=!0),t.model.get("full_time")&&(t.model.get("end_time")&&t.model.set("end_time",moment.utc(t.model.get("end_time")).startOf("day").valueOf(),{silent:!0}),t.model.get("start_time")&&t.model.set("start_time",moment.utc(t.model.get("start_time")).startOf("day").valueOf(),{silent:!0})),t.model.get("actual_costs")&&t.model.set("actual_costs",String(t.model.get("actual_costs")).replace(/,/g,".")),t.model.get("target_costs")&&t.model.set("target_costs",String(t.model.get("target_costs")).replace(/,/g,"."))}}});