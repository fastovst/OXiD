define("io.ox/metrics/adapters/analytics",["settings!io.ox/core","io.ox/core/extensions"],function(a,i){"use strict";if(a.get("tracking/analytics/enabled")){var e=i.point("io.ox/metrics/adapter"),t=a.get("tracking/analytics/url",location.protocol+"//www.google-analytics.com/analytics.js"),n=a.get("tracking/analytics/id"),o=a.get("tracking/analytics/mapping",{});n?(window.GoogleAnalyticsObject="ga",window.qa||(window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[]),e.extend({id:"analytics",setup:function(){window.ga.l=(new Date).getTime(),window.ga("create",n,"auto"),window.ga("set","anonymizeIp",!0),require([t])},trackVisit:function(a){var i=this;_.each(a,i.trackVariable),window.ga("send","pageview")},trackEvent:function(a){var i=a.data,e=i.detail||i.value,t=_.isNumber(e);window.ga("send",{hitType:"event",eventCategory:i.app,eventAction:a.id||i.target,eventLabel:i.action,eventValue:t?e:void 0})},trackPage:function(a){window.ga("send","pageview",{title:a.data.trackingId||a.data.name||a.data.id})},trackVariable:function(a){o[a.id]?window.ga("set",o[a.id],String(a.value)):ox.debug&&console.log("Missing mapping for custom dimension '"+a.id+"'.")}})):ox.debug&&console.log("Missing value for server setting for property 'io.ox/core//tracking/analytics/id'")}});