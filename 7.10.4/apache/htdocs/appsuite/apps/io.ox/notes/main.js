define("io.ox/notes/main",["io.ox/notes/api","settings!io.ox/notes","io.ox/notes/mediator","less!io.ox/notes/style"],function(e,o,t){"use strict";function n(){require(["io.ox/notes/tour"],function(e){e.start()})}if(ox.debug){var s=ox.ui.createApp({name:"io.ox/notes",id:"io.ox/notes",title:"Notes"});return s.setLauncher(function(){function i(e){r.idle(),_.url.hash("folder",e),s.folder.set(e),t(s),o.get("tours/welcome/run",!0)&&n()}var r=ox.ui.createWindow({name:"io.ox/notes",title:"Notes",chromeless:!0,find:!1});s.setWindow(r),s.settings=o,window.notes=s,r.show(),s.getWindow().on("show",function(){_.url.hash("folder",s.folder.get())});var u=e.getDefaultFolder();if(u)return i(_.url.hash("folder")||u);r.busy(0),e.createDefaultFolders().progress(function(e,o){r.busy(e,o)}).done(i)}),{getApp:s.getInstance}}});