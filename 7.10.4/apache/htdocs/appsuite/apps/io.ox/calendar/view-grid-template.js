define("io.ox/calendar/view-grid-template",["io.ox/calendar/util","io.ox/core/tk/vgrid","io.ox/core/extensions","io.ox/core/folder/api","gettext!io.ox/calendar","less!io.ox/calendar/style"],function(a,e,t,i,n){"use strict";var s={main:{build:function(){var a,e,t,i,n,s;return this.addClass("calendar calendar-grid-cell").append($('<button type="button" class="btn-unstyled">').append(t=$('<div class="time" aria-hidden="true">'),i=$('<div class="date" aria-hidden="true">'),s=$('<i class="fa fa-lock private-flag" aria-hidden="true">').hide(),a=$('<div class="title" aria-hidden="true">'),$('<div class="location-row">').append(n=$('<span class="shown_as label label-info" aria-hidden="true">&nbsp;</span>'),e=$('<span class="location" aria-hidden="true">')))),{summary:a,location:e,time:t,date:i,transp:n,isPrivate:s}},set:function(e,t){var i=_.isUndefined(e.summary),s=i?n("Private"):e.summary||" ",r=[];if(e.folder_id){var l=a.getConfirmationStatus(e);this.addClass(a.getConfirmationClass(l)+(e.hard_conflict?" hardconflict":""))}t.summary.text(s),t.location.text(e.location||" "),t.time.text(a.getTimeInterval(e)),t.date.text(a.getDateInterval(e)),t.transp.addClass(a.getShownAsLabel(e)).attr("summary",a.getShownAs(e)),t.isPrivate.toggle(i),r.push(s),e.location&&r.push(n.pgettext("a11y","at %1$s",e.location)),r.push(a.getTimeIntervalA11y(e)),r.push(a.getDateIntervalA11y(e)),this.find("button").attr("aria-label",_.escape(r.join(", ")+"."))}},drawSimpleGrid:function(a){var t=new e.Template({tagName:"li",defaultClassName:"vgrid-cell list-unstyled"}),i=$('<ul class="calendar-grid">');return t.add(s.main),_(a).each(function(a,e){var n=t.getClone();n.update(a,e),n.appendTo(i).node.data("appointment",a).addClass("hover")}),i}};return s});