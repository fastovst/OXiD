define("io.ox/find/manager/facet-model",["io.ox/find/manager/value-collection"],function(t){"use strict";function e(t){var e={};return t.forEach(function(t){e[t]=!0}),e}return Backbone.Model.extend({type:"facetBase",initialize:function(n){var i=new t([],{},{facet:this});this.set({id:n.cid,style:n.style,data:_.copy(n,!0),values:i,type:"facet"}),this.flags=e(this.get("data").flags),i.customAdd(n.values||n,this)},is:function(t){return this.flags[t]},getType:function(){return this.get("style")},isType:function(t){var e=[].concat(t),n=this.get("style");return!!_.filter(e,function(t){return n===t}).length},hide:function(){this.flags.hidden=!0},show:function(){delete this.flags.hidden},isId:function(t){var e=[].concat(t),n=this.get("id");return!!_.filter(e,function(t){return n===t}).length},getConflicting:function(){var t=[];return _.each(this.get("data").flags,function(e){0===e.indexOf("conflicts:")&&t.push(e.split(":")[1])}),t},hasPersons:function(){return this.isId(["contacts","contact","participant","task_participants"])},getOriginalId:function(){return this.get("data").id},getName:function(){return this.get("name")},update:function(t){var e=this.getInactive(),n=this.get("values");n.remove(e),n.customAdd(t.values||t,this)},getValue:function(t){var e=this.get("values");return t?e.get(t):e.at(0)},getActive:function(){return this.get("values").filter(function(t){return t.isActive()})},getInactive:function(){return this.get("values").filter(function(t){return!t.isActive()})}})});