define("io.ox/core/boot/login/auto",["io.ox/core/boot/util","io.ox/core/boot/config","io.ox/core/session","io.ox/core/extensions"],function(o,e,i,n){"use strict";function r(){return o.debug("Auto login ..."),i.autoLogin().then(function(e){o.debug("Auto login DONE.",e),ox.trigger("server:up"),ox.locale=e.locale,_.setCookie("locale",ox.locale),ox.trigger("login:success",e)},function(e){o.debug("Auto login FAIL",e),e&&"LGI-0016"===e.code&&1===(e.error_params||[]).length?_.url.redirect(e.error_params[0]):ox.trigger("login:fail",e)})}return n.point("io.ox/core/boot/login").extend({id:"autologin",index:400,login:function(){return r().then(_.identity,function(){return $.Deferred().resolve()})}}),r});