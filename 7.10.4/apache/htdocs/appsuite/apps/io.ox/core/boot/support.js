define("io.ox/core/boot/support",["io.ox/core/boot/util","io.ox/core/extensions"],function(o,t){"use strict";var e;return t.point("io.ox/core/boot/unsupported").extend({id:"android",index:100,draw:function(t){!_.device("android")||window.isPlatformSupported()&&!window.isBrowserSupported()||(o.feedback("info",function(){return $('<div data-error="outdated-platform">').text(e("You need to use Android %n or higher.",_.platformSupport.Android))}),t.stopPropagation())}},{id:"ios",index:300,draw:function(t){!_.device("ios")||window.isPlatformSupported()&&!window.isBrowserSupported()||(o.feedback("info",function(){return $('<div data-error="outdated-platform">').text(e("You need to use iOS %n or higher.",_.platformSupport.iOS))}),t.stopPropagation())}},{id:"unknown",index:400,draw:function(t){_.device("desktop")||window.isBrowserSupported()||(o.feedback("info",function(){return $("<b>").text(e("Your browser is not supported!")).add($.txt(" ")).add($('<div data-error="unkown-combination">').text(e("This browser is not supported on your current platform.")))}),t.stopPropagation())}},{id:"unsupported-platform",index:500,draw:function(t){_.device("windowsphone")&&(o.feedback("info",function(){return $("<b>").text(e("Your platform is not supported!")).add($.txt(" ")).add($('<div data-error="unkown-platform">').text(e("This platform is currently not supported.")))}),t.stopPropagation())}},{id:"update-required",index:1e12,draw:function(){o.feedback("info",function(){return $("<b>").text(e("Your browser is not supported!")).add($.txt(" ")).add($('<div data-error="outdated-browser">').text(e.format(e("Support starts with Chrome %1$d, Firefox %2$d, IE %3$d, and Safari %4$d."),_.browserSupport.Chrome,_.browserSupport.Firefox,_.browserSupport.IE,_.browserSupport.Safari)))})}}),t.point("io.ox/core/boot/supported").extend({id:"android-stock",index:100,draw:function(t){_.device("!android || chrome")||(o.feedback("info",function(){return $("<b>").text(e("For best results we recommend using Google Chrome for Android.")).add($.txt(" ")).add($.txt(e("Get the latest version from the "))).add($('<a href="http://play.google.com/store/apps/details?id=com.android.chrome">Play Store</>'))}),t.stopPropagation())}},{id:"cookies",index:1e12,draw:function(){_.setCookie("test","cookie"),"cookie"!==_.getCookie("test")&&o.feedback("info",e("Your browser's cookie functionality is disabled. Please turn it on.")),_.setCookie("test",null,-1)}}),function(){e=o.gt,o.debug("Check device support",_.device()),window.isBrowserSupported()&&window.isPlatformSupported()?t.point("io.ox/core/boot/supported").invoke("draw",null,t.Baton()):t.point("io.ox/core/boot/unsupported").invoke("draw",null,t.Baton())}});