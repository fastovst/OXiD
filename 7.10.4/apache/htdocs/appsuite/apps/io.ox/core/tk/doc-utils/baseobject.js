define("io.ox/core/tk/doc-utils/baseobject",[],function(){"use strict";return _.makeExtendable(function(){var t=_.uniqueId("obj"),i=null,n=null;this.registerDestructor=function(t){return(n||(n=[])).unshift(t),this},this.getUid=function(){return t},this.listenTo=function(t,n,s){function e(n,s){i.push({source:t,type:n,listener:s}),t.on(n,s)}i=i||[];var u;return _.isObject(n)?u=n:(u={})[n]=s,_.each(u,function(t,i){_.each(i.split(/\s+/),function(i){i.length>0&&e.call(this,i,t)},this)},this),this},this.stopListeningTo=function(t,n,s){function e(n,s){n=_.isString(n)?_.without(n.split(/\s+/),""):null,_.each(i,function(i){(i.source instanceof $?!i.source.is(t):i.source!==t)||n&&!_.contains(n,i.type)||s&&s!==i.listener||t.off(i.type,i.listener)})}return _.isFunction(n)&&_.isUndefined(s)?e(null,n):_.isObject(n)?_.each(n,function(t,i){e(i,t)}):e(n,s),this},this.waitForSuccess=function(t,i){return t.done(function(){if(!this.destroyed)return i.apply(this,arguments)}.bind(this)),this},this.waitForFailure=function(t,i){return t.fail(function(){if(!this.destroyed)return i.apply(this,arguments)}.bind(this)),this},this.waitForAny=function(t,i){return t.always(function(){if(!this.destroyed)return i.apply(this,arguments)}.bind(this)),this},this.destroy=function(){_.each(i,function(t){t.source.off&&t.source.off(t.type,t.listener)}),i=null,_.each(n,function(t){t.call(this)},this),n=null,_.each(this,function(t,i){delete this[i]},this),this.destroyed=!0,this.uid=t}})});