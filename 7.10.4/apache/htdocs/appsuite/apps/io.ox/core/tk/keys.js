define("io.ox/core/tk/keys",["io.ox/core/event"],function(e){"use strict";function o(e){return n[e]||String.fromCharCode(e)||String(e)}var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",37:"leftarrow",38:"uparrow",39:"rightarrow",40:"downarrow",46:"del"};return function(n){function t(e){var n,t=[];e.shiftKey&&t.push("shift"),(e.metaKey||e.ctrlKey)&&t.push("ctrl"),t.push(o(e.which)),n=_.chain(t).invoke("toLowerCase").sort().join("+").value(),i.trigger(n,e)}function r(e){return _.chain(e.split(/[ +]+/)).invoke("toLowerCase").sort().join("+").value()}var i=new e,s=!1;n?n.on("dispose",function(){s&&n.off("keydown",t)}):n=$(window),this.include=function(){if(!s)return s=!0,n.on("keydown",t),this},this.remove=function(){if(s)return s=!1,n.off("keydown",t),this},this.on=function(e,o){if(!e)throw new Error("Please specify a key expression");return i.on(r(e),o),this},this.off=function(e,o){return i.off(r(e),o),this},this.destroy=function(){this.remove(),i.destroy()}}});