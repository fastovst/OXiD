define("io.ox/core/api/mailfilter",["io.ox/core/http","io.ox/core/event","io.ox/core/capabilities"],function(e,t,r){"use strict";var i={},a={deleteRule:function(t){return e.PUT({module:"mailfilter/v2",params:{action:"delete"},data:{id:t}})},create:function(t){return e.PUT({module:"mailfilter/v2",params:{action:"new"},data:t})},getRules:function(t){return e.GET({module:"mailfilter/v2",params:{action:"list",flag:t}}).then(function(e){return e})},update:function(t){return e.PUT({module:"mailfilter/v2",params:{action:"update"},data:t})},getConfig:function(){if(!r.has("mailfilter_v2"))return $.when({actioncmds:[],options:{},tests:[]});return _.isEmpty(i)?e.GET({module:"mailfilter/v2",params:{action:"config"}}).then(function(e){return i=e}):$.Deferred().resolve(i)},reorder:function(t){return e.PUT({module:"mailfilter/v2",params:{action:"reorder"},data:t})},apply:function(t){return e.GET({module:"mailfilter/v2",params:_.extend({action:"apply"},t)})}};return t.extend(a),a});