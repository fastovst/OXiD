define("io.ox/core/tracker/duration",["io.ox/core/tracker/api","io.ox/core/uuids","settings!io.ox/core"],function(t,e,r){"use strict";function n(){return ox.ui.App.getCurrentApp().get("name")}function i(e){t.add("duration",{uuid:p,app:e,timestamp:ox.t0})}function o(){if("hidden"!==document.visibilityState&&ox.ui.App.getCurrentApp()){var t=n();d&&(i(t),d=!1),c[t]=c[t]?c[t]+1:1,c[t]%(60*a)==0&&i(t)}}var u,a=r.get("tracker/eyeballInterval",1)||1,c={},p=e.randomUUID(),d=!0;return{start:function(){return u||(u=setInterval(o,1e3))},stop:function(){clearInterval(u)},getCount:function(){return c}}});