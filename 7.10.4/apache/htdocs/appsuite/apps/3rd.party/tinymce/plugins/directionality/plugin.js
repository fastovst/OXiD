!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),i={setDir:function(t,i){var n,r=t.dom,o=t.selection.getSelectedBlocks();o.length&&(n=r.getAttrib(o[0],"dir"),e.each(o,function(t){r.getParent(t.parentNode,'*[dir="'+i+'"]',r.getRoot())||r.setAttrib(t,"dir",n!==i?i:null)}),t.nodeChanged())}},n={register:function(t){t.addCommand("mceDirectionLTR",function(){i.setDir(t,"ltr")}),t.addCommand("mceDirectionRTL",function(){i.setDir(t,"rtl")})}},r=function(t){var i=[];return e.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(e){i.push(e+"[dir="+t+"]")}),i.join(",")},o={register:function(t){t.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:r("ltr")}),t.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:r("rtl")})}};t.add("directionality",function(t){n.register(t),o.register(t)})}();