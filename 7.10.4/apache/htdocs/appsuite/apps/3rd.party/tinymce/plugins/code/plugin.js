!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n={getMinWidth:function(e){return e.getParam("code_dialog_width",600)},getMinHeight:function(e){return e.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500))}},o={setContent:function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},getContent:function(e){return e.getContent({source_view:!0})}},i={open:function(e){var t=n.getMinWidth(e),i=n.getMinHeight(e);e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:t,minHeight:i,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){o.setContent(e,t.data.code)}}).find("#code").value(o.getContent(e))}},c={register:function(e){e.addCommand("mceCodeEditor",function(){i.open(e)})}},d={register:function(e){e.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){i.open(e)}}),e.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){i.open(e)}})}};e.add("code",function(e){return c.register(e),d.register(e),{}})}();