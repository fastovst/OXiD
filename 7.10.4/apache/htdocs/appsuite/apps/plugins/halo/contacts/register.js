define("plugins/halo/contacts/register",["io.ox/core/extensions","settings!io.ox/mail"],function(t,n){"use strict";t.point("io.ox/halo/contact:renderer").extend({id:"contacts",handles:function(t){return"com.openexchange.halo.contacts"===t},draw:function(t){if(0!==t.data.length){var e=this,o=$.Deferred();return require(["io.ox/contacts/view-detail","io.ox/contacts/util","less!io.ox/contacts/style"],function(c,a){var i=_.sortBy(t.data,function(t){return t.folder_id===n.get("contactCollectFolder")?1:0})[0];""===a.getFullName(i)&&(i.display_name=t.contact.contact?a.getFullName(t.contact.contact)||t.contact.name:t.contact.name),i.birthday&&1===moment.utc(i.birthday).year()&&(i.birthday=a.julianToGregorian(i.birthday)),e.append(c.draw(i)),o.resolve()}),o}}}),t.point("io.ox/halo/contact:requestEnhancement").extend({id:"contacts-request",enhances:function(t){return"com.openexchange.halo.contacts"===t},enhance:function(t){t.appendColumns=!0,t.columnModule="contacts"}})});