define("plugins/halo/view-detail",["plugins/halo/api","io.ox/core/extensions","less!plugins/halo/style"],function(a,n){"use strict";return{redraw:function(n){a.halo.investigate(n.contact,n.provider).done(function(i){n.data=i,n.ray.empty().triggerHandler("dispose"),a.viewer.draw(n)}).always(function(){n=null})},draw:function(i){var e=$("<div>").addClass("io-ox-halo");return _(a.halo.investigate(i)).each(function(t,o){var r=$('<div class="ray">').css("minHeight","100px").attr("data-prodiver",o).busy().appendTo(e);t.done(function(e){var t=new n.Baton({contact:i,data:e,provider:o,ray:r});a.viewer.draw(t)}).always(function(){r.idle().css("minHeight",""),r=null})}),e}}});