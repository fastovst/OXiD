define("plugins/halo/appointments/register",["io.ox/core/extensions","gettext!plugins/halo"],function(e,n){"use strict";e.point("io.ox/halo/contact:renderer").extend({id:"appointments",handles:function(e){return"com.openexchange.halo.events"===e},draw:function(e){if(0!==e.data.length){var t=this,a=$.Deferred();return require(["io.ox/core/tk/dialogs","io.ox/calendar/view-grid-template"],function(o,i){t.append($('<h2 class="widget-title clear-title">').text(n("Shared Appointments"))),i.drawSimpleGrid(e.data).appendTo(t),t.find(".vgrid-cell").addClass("io-ox-dialog-sidepopup-toggle"),(new o.SidePopup).delegate(t,".vgrid-cell",function(e,n,t){var a=t.data("appointment");require(["io.ox/calendar/view-detail"],function(n){e.append(n.draw(a)),a=null})}),a.resolve()}),a}}}),e.point("io.ox/halo/contact:requestEnhancement").extend({id:"request-appointments",enhances:function(e){return"com.openexchange.halo.events"===e},enhance:function(e){e.params.rangeStart=moment().utc().format("YYYYMMDD[T]HHmmss[Z]"),e.params.rangeEnd=moment().utc().add(10,"days").format("YYYYMMDD[T]HHmmss[Z]")}})});