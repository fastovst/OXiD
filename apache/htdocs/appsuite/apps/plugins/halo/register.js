define("plugins/halo/register",["io.ox/core/extensions"],function(o){"use strict";o.point("io.ox/core/person:action").extend({index:10,id:"default",label:"Halo",action:function(o,i){require(ox.withPluginsFor("plugins/halo",["plugins/halo/view-detail","io.ox/core/tk/dialogs"]),function(e,n){var t=o.side?{side:o.side}:{};new n.SidePopup(t).show(i,function(i){i.append(e.draw(o))})})}}),o.point("io.ox/core/resource:action").extend({action:function(o,i){require(["io.ox/core/tk/dialogs","io.ox/contacts/view-detail"],function(e,n){(new e.SidePopup).show(i,function(i){i.append(n.draw(o))})})}}),o.point("io.ox/testing/suite").extend({id:"default",file:"plugins/halo/config-test",title:"Halo Config"}),require(["io.ox/core/capabilities"],function(i){i.has("guest")&&!i.has("contacts")||($("body").on("click",".halo-link",function(i){i.preventDefault(),o.point("io.ox/core/person:action").invoke("action",this,$(this).data(),i)}),$("body").on("click",".halo-resource-link",function(i){i.preventDefault(),o.point("io.ox/core/resource:action").invoke("action",this,$(this).data(),i)}))})});