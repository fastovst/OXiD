define("io.ox/multifactor/factorRenderer",["gettext!io.ox/core/boot","io.ox/core/extensions","io.ox/multifactor/views/constants","less!io.ox/multifactor/style","less!io.ox/backbone/mini-views/settings-list-view"],function(e,t,a){"use strict";function i(t,a,i,r){var n=$('<li class="settings-list-item multifactordevice">').attr("data-deviceId",i.id).attr("data-deviceName",i.name).attr("data-provider",i.providerName).attr("title",a),o=$('<i class="fa '+t+' mfIcon">').attr("aria-label",a),s=$("<span>").addClass(r?"mfText":"mfTextWide").append(a),c=$('<span class="mfName">').text(i.name);r||n.addClass("multifactordeviceSelectable");var d=r?$('<a href="#" class="action mfEdit">').attr("title",e("Edit")).append(e("Edit")):"",l=r?$('<a href="#" class="action mfDelete">').attr("aria-label",e("Delete")).append($('<i class="fa fa-trash-o" aria-hidden="true">').attr("title",e("Delete"))):"";return n.append(o).append(s).append(c).append(d).append(l)}function r(r,n){switch(r.providerName){case a.SMS:return i(a.SMS_ICON,e("SMS Code"),r,n);case"WEB-AUTH":return i("fa-microchip",e("Web auth"),r,n);case a.U2F:if(!window.u2f&&!n)return void console.log("U2F not compatible with this browser");if(!n&&o.u2f)return;return o.u2f=!0,i(a.U2F_ICON,e("Security Token"),r,n);case"YUBIKEY":return i("fa-id-badge",e("Yubikey"),r,n);case a.TOTP:return i(a.TOTP_ICON,e("Google Authenticator"),r,n);case a.BACKUP:return i(a.BACKUP_ICON,e("Recovery code"),r,n);default:var s=new t.Baton;return t.point("io.ox/multifactor/device/"+r.providerName).invoke("render",this,s),s.data.text?i(s.data.icon,s.data.text,r,n):$("<span>").append("UNKOWN")}}function n(e,t){o={};var a=$('<div class="MultifactorDiv">'),i=$('<ul class="list-group list-unstyled settings-list-view">');return e.forEach(function(e){i.append(r(e,t))}),a.append(i)}var o={};return{renderDeletable:function(e){return n(e,!0)},renderList:function(e){return n(e,!1)}}});