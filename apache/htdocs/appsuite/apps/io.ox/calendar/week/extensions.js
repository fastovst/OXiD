define("io.ox/calendar/week/extensions",["io.ox/core/extensions","io.ox/calendar/util"],function(e,i){"use strict";e.point("io.ox/calendar/week/view/appointment").extend({id:"resize-fulltime",index:100,draw:function(e){var a=e.model;if(i.isAllday(a)&&this.hasClass("modify")){var t=e.view.model.get("startDate"),n=t.clone().add(e.view.numColumns,"days");a.getMoment("startDate").isSame(t,"day")||this.append($('<div class="resizable-handle resizable-w" aria-hidden="true">')),a.getMoment("endDate").isSame(n,"day")||this.append($('<div class="resizable-handle resizable-e" aria-hidden="true">'))}}}),e.point("io.ox/calendar/week/view/appointment").extend({id:"resize",index:200,draw:function(e){var a=e.model;i.isAllday(a)||this.hasClass("modify")&&(a.getMoment("startDate").local().isSame(e.date,"day")&&this.append($('<div class="resizable-handle resizable-n" aria-hidden="true">')),a.getMoment("endDate").local().isSame(e.date,"day")&&this.append($('<div class="resizable-handle resizable-s" aria-hidden="true">')))}}),e.point("io.ox/calendar/week/view/appointment").extend({id:"flags",index:300,draw:function(e){var a=e.model;if(!i.isAllday(a)){var t=$(this).find(".appointment-content"),n=t.height(),d=$(this).find(".title").height(),s=$(this).hasClass("no-wrap"),l=$(this).find(".location").length<1||s?0:$(this).find(".location").height(),o=i.returnIconsByType(a).property;0!==o.length&&d+l<n-12&&t.append($('<div class="flags bottom-right">').append(o))}}})});