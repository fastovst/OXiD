define("io.ox/calendar/actions/change-folder-alarms",["io.ox/backbone/views/modal","io.ox/backbone/mini-views/alarms","gettext!io.ox/calendar","io.ox/core/folder/api"],function(e,a,n,l){"use strict";return function(o){var d=new a.linkView({model:new Backbone.Model({alarms:o["com.openexchange.calendar.config"].defaultAlarmDate||[]})}),i=new a.linkView({model:new Backbone.Model({alarms:o["com.openexchange.calendar.config"].defaultAlarmDateTime||[]})});new e({title:n("Change reminders")}).build(function(){var e=_.uniqueId("alarms-dialog-description-");this.$el.attr("aria-describedby",e),this.$body.append($("<p>").attr("id",e).append($.txt(n("Edit all reminders for calendar: %1$s",o.display_title||o.title))),"birthdays"===o["com.openexchange.calendar.provider"]?"":$("<fieldset>").append($('<legend class="confirm-dialog-legend">').text(n("Default reminder")),i.render().$el),$("<fieldset>").append($('<legend class="confirm-dialog-legend">').text(n("birthdays"===o["com.openexchange.calendar.provider"]?"Default reminder for appointments in birthday calendar":"Default reminder for all-day appointments")),d.render().$el))}).addAlternativeButton({action:"cancel",label:n("Cancel")}).addButton({action:"ok",label:n("Ok"),className:"btn-primary"}).on("ok",function(){"birthdays"===o["com.openexchange.calendar.provider"]&&require(["settings!io.ox/calendar"],function(e){e.set("birthdays/defaultAlarmDate",d.model.get("alarms")).save()}),l.update(o.id,{"com.openexchange.calendar.config":_.extend({},o["com.openexchange.calendar.config"],{defaultAlarmDate:d.model.get("alarms"),defaultAlarmDateTime:i.model.get("alarms")})})}).open()}});