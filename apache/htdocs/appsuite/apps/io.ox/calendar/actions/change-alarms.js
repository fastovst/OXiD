define("io.ox/calendar/actions/change-alarms",["io.ox/calendar/api","io.ox/backbone/views/modal","io.ox/backbone/mini-views/alarms","io.ox/calendar/util","gettext!io.ox/calendar","less!io.ox/calendar/style"],function(e,n,t,a,i){"use strict";var o=function(o,r){r=r||{};var d=new t.linkView({model:new Backbone.Model(o)});new n({title:i("Change reminders")}).build(function(){var e=a.getDateTimeIntervalMarkup(o,{output:"strings",zone:moment().tz()}),n=a.getRecurrenceString(o),t=_.uniqueId("alarms-dialog-description-");this.$el.attr("aria-describedby",t),this.$body.append($("<p>").attr("id",t).append($("<b>").text(o.summary),$.txt(", "),$.txt(e.dateStr),$.txt(""!==n?" â€“ "+n:""),$.txt(" "),$.txt(e.timeStr)),$("<fieldset>").append($('<legend class="confirm-dialog-legend">').text(i("Reminder")),d.render().$el))}).addAlternativeButton({action:"cancel",label:i("Cancel")}).addButton({action:"ok",label:i("Ok"),className:"btn-primary"}).on("ok",function(){var n={id:o.id,folder:o.folder,alarms:d.model.get("alarms")};r.single&&o.recurrenceId&&(n.recurrenceId=o.recurrenceId),e.updateAlarms(n,a.getCurrentRangeOptions())}).open()};return function(e){e.recurrenceId&&e.seriesId?new n({title:i("Change appointment reminders"),width:600}).build(function(){this.$body.append(i("This appointment is part of a series. Do you want to change your reminders for the whole series or just for this appointment within the series?"))}).addCancelButton({left:!0}).addButton({className:"btn-default",label:i("Change appointment"),action:"appointment"}).addButton({action:"series",label:i("Change series")}).on("series",function(){o(e,{single:!1})}).on("appointment",function(){o(e,{single:!0})}).open():o(e,{single:!0})}});