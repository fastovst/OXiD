define("io.ox/settings/accounts/settings/createAccountDialog",["io.ox/core/tk/dialogs","io.ox/keychain/api"],function(e,n){"use strict";function o(){function o(e){return function(){t.resolve(e),c.close()}}var c,t=$.Deferred(),a=$('<div class="container">'),i=0,r=null;return _(n.submodules).each(function(e){0===i&&(r=$('<div class="row">').css({padding:"10px"}).appendTo(a)),i=(i+1)%2,$('<div class="col-md-6">').append($('<a href="#">').text(e.displayName).on("click",o(e.id))).appendTo(r)}),(c=new e.ModalDialog).header($("<h4>").text("Add an account")),c.append(a).addButton("cancel","Cancel").show(function(){a.find("a:first").focus()}).done(function(){t.resolve()}),t}return{createAccountInteractively:function(e){var c=$.Deferred();return console.log("createAccountInteractively..."),o().done(function(o){o?n.createInteractively(o,e).done(c.done).fail(c.fail):c.resolve()}).fail(c.fail),c}}});