define("io.ox/find/date/facet-model",["io.ox/find/manager/facet-model","io.ox/core/extensions","io.ox/find/date/patterns"],function(e,t,i){"use strict";var a=e.extend({type:"facetDate",_base:function(e,t){return a.__super__[e].apply(this,t)},initialize:function(e){this.prepare(e),this._base("initialize",arguments)},prepare:function(e){var t=(e.values||e)[0],a=t.value.toLowerCase().trim(),n=i.getMatches(a);e.values=[],_.each(n,function(i){var a=$.extend(!0,{},t);a.value=i.label,a.id=i.id,a.match=i,a.item.name=i.label||a.item.name,a.item.detail=i.detail||a.item.detail,e.values.push(a)})},update:function(e){return this.prepare(e),e.values.length?this.show():this.hide(),this._base("update",[e])}});return a});