define("io.ox/keychain/model",["io.ox/core/extensions"],function(e){"use strict";function n(i){if(arguments.length>1)return _(arguments).map(n);if(_.isArray(i)){var t=new o;return _(i).each(function(e){e.cid=e.accountType+e.id}),t.add(i),t}return i.accountType&&i.id&&(i.cid=i.accountType+i.id),e.point("io.ox/keychain/model").each(function(e){if(e.accountType===i.accountType)return e.invoke("wrap",e,i)}),new c(i)}var c=Backbone.Model.extend({idAttribute:"cid"}),o=Backbone.Collection.extend({model:c});return{Account:c,Accounts:o,wrap:n}});