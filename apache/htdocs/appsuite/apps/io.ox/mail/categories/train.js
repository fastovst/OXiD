define("io.ox/mail/categories/train",["io.ox/mail/categories/api","io.ox/core/yell","gettext!io.ox/mail"],function(t,e,o){"use strict";function a(t,e){return o.format(o.ngettext('Message moved to category "%1$s".','Messages moved to category "%1$s".',t.length),_.escape(e))}function n(t){var e=s(t);return o.format(o.ngettext("Do you want to move all messages from %1$s to that category?","Do you want to move all messages from selected senders to that category?",e.length),"<b>"+_.escape(e)+"</b>")}function s(t){return _(t).chain().map(function(t){return t.from[0][1]}).uniq().value()}return{open:function(s){var r=s.data,c=s.targetname;e({duration:-1,message:$('<div class="content category-toast">').append($("<p>").html(a(r,c)),$("<p>").html(n(r)),$('<button type="button" class="btn btn-default" data-action="move-all">').text(o("Move all messages")).on("click",function(){t.train(s).fail(e),e("close")})),type:"success",focus:!0})}}});