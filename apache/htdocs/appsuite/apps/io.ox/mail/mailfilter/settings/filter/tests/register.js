define.async("io.ox/mail/mailfilter/settings/filter/tests/register",["io.ox/core/extensions","gettext!io.ox/mailfilter","io.ox/backbone/mini-views","io.ox/mail/mailfilter/settings/filter/tests/util","io.ox/backbone/mini-views/datepicker","io.ox/core/api/mailfilter"],function(e,n,i,t,s,a){"use strict";function o(a){var o=function(){var e={};return _.each(a.tests,function(n){e[n.id]=n}),e}();a.options.allowNestedTests&&e.point("io.ox/mail/mailfilter/tests").extend({id:"nested",index:1500,initialize:function(e){var i={nested:{id:"anyof",tests:[]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{nested:n("Nested condition")}),_.extend(e.conditionsMapping,{nested:["nested"]}),e.conditionsOrder.push("nested")},draw:function(e,i){var s=e.model.get("test").tests[i],a={target:"nestedID",toggle:"dropup",caret:!0,type:"appliesto",classes:"appliesto"},o=t.drawDropdown(s.id,{allof:n("continue if all of these conditions are met"),anyof:n("continue if any of these conditions are met")},a),d="allof"===s.id||"anyof"===s.id?o:$("<div>").addClass("line").text(n("continue if all conditions are met"));this.append($("<li>").addClass("filter-settings-view row nestedrule").attr({"data-test-id":i}).append($("<div>").addClass("col-sm-9 singleline").append(d),$("<div>").addClass("col-sm-3 singleline").append(t.drawDropdown(n("Add condition"),e.view.conditionsTranslation,{type:"condition",nested:!0,toggle:"dropdown",classes:"add-condition",skip:"nested",sort:e.view.defaults.conditionsOrder})),t.drawDeleteButton("test")))}}),o.body&&e.point("io.ox/mail/mailfilter/tests").extend({id:"body",index:700,initialize:function(e){var i={body:{id:"body",comparison:t.returnDefault(a.tests,"body","comparisons","contains"),extensionskey:"text",extensionsvalue:null,values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{body:n("Body")}),_.extend(e.conditionsMapping,{body:["body"]}),e.conditionsOrder.push("body")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("body_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.body,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.body+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"})}}),o.currentdate&&e.point("io.ox/mail/mailfilter/tests").extend({id:"currentdate",index:1400,initialize:function(e){var i={currentdate:{id:"currentdate",comparison:t.returnDefault(a.tests,"currentdate","comparisons","ge"),datepart:"date",datevalue:[],zone:"original"}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{currentdate:n("Current date")}),_.extend(e.conditionsMapping,{currentdate:["currentdate"]}),e.conditionsOrder.push("currentdate")},draw:function(e,a,o,d,r,l){var p,u={ge:n("Greater equals"),le:n("Lower equals"),is:n("Is exactly"),"not is":n("Is not exactly"),"not ge":n("Lower"),"not le":n("Greater")},c=function(e,i){for(var t={},s=e;s<=i;s+=1){var a=Math.abs(s).toString()+":00",o=Math.abs(s).toString()+"00";a=4===a.length?"0"+a:a,o=3===o.length?"0"+o:o,a=s>-1?"+"+a:"-"+a,t[o=s>-1?"+"+o:"-"+o]=a}return t.original=n("original time zone"),t}(-12,14),m=s.extend({updateModel:function(){var e=this.getTimestamp();_.isNull(e)||_.isNumber(e)?(this.model[this.model.setDate?"setDate":"set"](this.attribute,[e],{validate:!0}),this.model.trigger("valid")):this.model.trigger("invalid:"+this.attribute,[n("Please enter a valid date")])}});_.has(o.attributes,"zone")&&null!==o.get("zone")||(o.attributes.zone="original"),o.on("change:datevalue",function(){null===o.get("datevalue")[0]?e.view.$el.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").addClass("has-error"):e.view.$el.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").removeClass("has-error"),e.view.$el.trigger("toggle:saveButton")}),this.append(p=$("<li>").addClass("filter-settings-view row "+l).attr({"data-test-id":a}).append($("<div>").addClass("col-sm-3 singleline").append($("<span>").addClass("list-title").text(e.view.conditionsTranslation[r.id])),$("<div>").addClass("col-sm-9").append($("<div>").addClass("row").append($("<div>").addClass("col-sm-4").append(new t.DropdownLinkView({name:"comparison",model:o,values:d("currentdate",u)}).render().$el),$("<div>").addClass("col-sm-4").append(new i.DropdownLinkView({name:"zone",model:o,values:c}).render().$el),$('<div class="col-sm-4">').append(new m({model:o,display:"DATE",attribute:"datevalue",label:n("datepicker")}).render().$el))),t.drawDeleteButton("test"))).find('[data-test-id="'+a+'"] label').addClass("sr-only"),null!==o.get("datevalue")[0]&&0!==o.get("datevalue").length||this.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").addClass("has-error"),t.handleUnsupportedComparisonValues({$li:p,values:d("currentdate",u),model:o})}}),o.date&&e.point("io.ox/mail/mailfilter/tests").extend({id:"date",index:1300,initialize:function(e){var i={date:{id:"date",comparison:t.returnDefault(a.tests,"date","comparisons","ge"),zone:"original",header:"Date",datepart:"date",datevalue:[]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{date:n("Sent date")}),_.extend(e.conditionsMapping,{date:["date"]}),e.conditionsOrder.push("date")},draw:function(e,a,o,d,r,l){var p,u={ge:n("Greater equals"),le:n("Lower equals"),is:n("Is exactly"),"not is":n("Is not exactly"),"not ge":n("Lower"),"not le":n("Greater")},c=function(e,i){for(var t={},s=e;s<=i;s+=1){var a=Math.abs(s).toString()+":00",o=Math.abs(s).toString()+"00";a=4===a.length?"0"+a:a,o=3===o.length?"0"+o:o,a=s>-1?"+"+a:"-"+a,t[o=s>-1?"+"+o:"-"+o]=a}return t.original=n("original time zone"),t}(-12,14),m=s.extend({updateModel:function(){var e=this.getTimestamp();_.isNull(e)||_.isNumber(e)?(this.model[this.model.setDate?"setDate":"set"](this.attribute,[e],{validate:!0}),this.model.trigger("valid")):this.model.trigger("invalid:"+this.attribute,[n("Please enter a valid date")])}});_.has(o.attributes,"zone")&&null!==o.get("zone")||(o.attributes.zone="original"),o.on("change:datevalue",function(){null===o.get("datevalue")[0]?e.view.$el.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").addClass("has-error"):e.view.$el.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").removeClass("has-error"),e.view.$el.trigger("toggle:saveButton")}),this.append(p=$("<li>").addClass("filter-settings-view row "+l).attr({"data-test-id":a}).append($("<div>").addClass("col-sm-3 singleline").append($("<span>").addClass("list-title").text(e.view.conditionsTranslation[r.id])),$("<div>").addClass("col-sm-9").append($("<div>").addClass("row").append($("<div>").addClass("col-sm-4").append(new t.DropdownLinkView({name:"comparison",model:o,values:d("date",u)}).render().$el),$("<div>").addClass("col-sm-4").append(new i.DropdownLinkView({name:"zone",model:o,values:c}).render().$el),$('<div class="col-sm-4">').append(new m({model:o,display:"DATE",attribute:"datevalue",label:n("datepicker"),timezoneButton:!1}).render().$el))),t.drawDeleteButton("test"))).find('[data-test-id="'+a+'"] label').addClass("sr-only"),null!==o.get("datevalue")[0]&&0!==o.get("datevalue").length||this.find('[data-test-id="'+a+'"] input.datepicker-day-field').closest(".row").addClass("has-error"),t.handleUnsupportedComparisonValues({$li:p,values:d("date",u),model:o})}}),o.envelope&&e.point("io.ox/mail/mailfilter/tests").extend({id:"envelope",index:900,initialize:function(e){var i={envelope:{id:"envelope",comparison:t.returnDefault(a.tests,"envelope","comparisons","is"),addresspart:t.returnDefault(a.tests,"envelope","parts","all"),headers:[t.returnDefault(a.tests,"envelope","headers","to")],values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{envelope:n("Envelope")}),_.extend(e.conditionsMapping,{envelope:["envelope"]}),e.conditionsOrder.push("envelope")},draw:function(e,i,s,o,d,r){var l,p={to:n("To"),from:n("From")},u={all:n("All"),localpart:n("Local-part"),domain:n("Domain"),user:n("User"),detail:n("Detail")},c=_.uniqueId("envelope_");this.append(l=t.drawCondition({layout:"3",conditionKey:i,inputId:c,title:e.view.conditionsTranslation.envelope,dropdownOptions:{name:"comparison",model:s,values:o(d.id,t.returnContainsOptions())},seconddropdownOptions:{name:"headers",model:s,values:t.filterHeaderValues(a.tests,"envelope",p),saveAsArray:!0},thirddropdownOptions:{name:"addresspart",model:s,values:t.filterPartValues(a.tests,"envelope",u)},inputLabel:e.view.conditionsTranslation.envelope+" "+t.returnContainsOptions()[s.get("comparison")],inputOptions:{name:"values",model:s,className:"form-control",id:c},errorView:!0,addClass:r})),t.handleUnsupportedComparisonValues({$li:l,values:o(d.id,t.returnContainsOptions()),model:s,inputName:"values"})}}),o.header&&e.point("io.ox/mail/mailfilter/tests").extend({id:"header",index:1e3,initialize:function(e){var i={cleanHeader:{comparison:t.returnDefault(a.tests,"header","comparisons","matches"),headers:[""],id:"header",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{cleanHeader:n("Header")}),_.extend(e.conditionsMapping,{header:["cleanHeader"]}),e.conditionsOrder.push("cleanHeader")},draw:function(e,n,i,s,a,o){var d,r,l=_.uniqueId("values"),p=_.uniqueId("header_");r=e.view.conditionsTranslation.cleanHeader,this.append(d=t.drawCondition({conditionKey:n,inputId:p,title:r,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputOptions:{name:"headers",model:i,className:"form-control",id:p},secondInputId:l,secondInputLabel:r+" "+t.returnContainsOptions()[i.get("comparison")],secondInputOptions:{name:"values",model:i,className:"form-control",id:l},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[e.view.defaults.conditionsMapping[a.id]]})}}),o.subject&&e.point("io.ox/mail/mailfilter/tests").extend({id:"subject",index:600,initialize:function(e){var i={subject:{comparison:t.returnDefault(a.tests,"subject","comparisons","contains"),headers:["Subject"],id:"subject",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{subject:n("Subject")}),_.extend(e.conditionsMapping,{subject:["subject"]}),e.conditionsOrder.push("subject")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("subject_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.subject,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.subject+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[a.id]})}}),o.from&&e.point("io.ox/mail/mailfilter/tests").extend({id:"from",index:100,initialize:function(e){var i={from:{comparison:t.returnDefault(a.tests,"from","comparisons","contains"),headers:["From"],id:"from",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{from:n("From")}),_.extend(e.conditionsMapping,{from:["from"]}),e.conditionsOrder.push("from")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("from_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.from,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions()),tooltips:t.returnDefaultToolTips()},inputLabel:e.view.conditionsTranslation.from+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[e.view.defaults.conditionsMapping[a.id]]})}}),o.to&&e.point("io.ox/mail/mailfilter/tests").extend({id:"to",index:200,initialize:function(e){var i={to:{comparison:t.returnDefault(a.tests,"to","comparisons","contains"),headers:["To"],id:"to",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{to:n("To")}),_.extend(e.conditionsMapping,{to:["to"]}),e.conditionsOrder.push("to")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("to_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.to,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.to+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[e.view.defaults.conditionsMapping[a.id]]})}}),o.cc&&e.point("io.ox/mail/mailfilter/tests").extend({id:"cc",index:300,initialize:function(e){var i={cc:{comparison:t.returnDefault(a.tests,"cc","comparisons","contains"),headers:["Cc"],id:"cc",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{cc:n("Cc")}),_.extend(e.conditionsMapping,{cc:["cc"]}),e.conditionsOrder.push("cc")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("cc_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.cc,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.cc+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[e.view.defaults.conditionsMapping[a.id]]})}}),o.anyrecipient&&e.point("io.ox/mail/mailfilter/tests").extend({id:"anyrecipient",index:400,initialize:function(e){var i={anyrecipient:{comparison:t.returnDefault(a.tests,"anyrecipient","comparisons","contains"),headers:["To","Cc"],id:"anyrecipient",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{anyrecipient:n("Any recipient")}),_.extend(e.conditionsMapping,{anyrecipient:["anyrecipient"]}),e.conditionsOrder.push("anyrecipient")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("anyrecipient_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.anyrecipient,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.anyrecipient+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[a.id]})}}),o.mailinglist&&e.point("io.ox/mail/mailfilter/tests").extend({id:"mailinglist",index:500,initialize:function(e){var i={mailinglist:{comparison:t.returnDefault(a.tests,"mailinglist","comparisons","contains"),headers:["List-Id","X-BeenThere","X-Mailinglist","X-Mailing-List"],id:"mailinglist",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{mailinglist:n("Mailing list")}),_.extend(e.conditionsMapping,{mailinglist:["mailinglist"]}),e.conditionsOrder.push("mailinglist")},draw:function(e,n,i,s,a,o){var d,r=_.uniqueId("mailinglist_");this.append(d=t.drawCondition({conditionKey:n,inputId:r,title:e.view.conditionsTranslation.mailinglist,dropdownOptions:{name:"comparison",model:i,values:s(a.id,t.returnContainsOptions())},inputLabel:e.view.conditionsTranslation.mailinglist+" "+t.returnContainsOptions()[i.get("comparison")],inputOptions:{name:"values",model:i,className:"form-control",id:r},errorView:!0,addClass:o})),t.handleUnsupportedComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values"}),t.handleSpecialComparisonValues({$li:d,values:s(a.id,t.returnContainsOptions()),model:i,inputName:"values",defaults:e.view.defaults.tests[e.view.defaults.conditionsMapping[a.id]]})}}),o.size&&e.point("io.ox/mail/mailfilter/tests").extend({id:"size",index:1200,initialize:function(e){var i={size:{comparison:t.returnDefault(a.tests,"size","comparisons","over"),id:"size",size:""}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{size:n("Size")}),_.extend(e.conditionsMapping,{size:["size"]}),e.conditionsOrder.push("size")},draw:function(e,s,a,o,d,r){var l,p=_.uniqueId("size_"),u={over:n("Is bigger than"),under:n("Is smaller than")},c={B:"Byte",K:"kB",M:"MB",G:"GB"},m=a.get("size").split(""),v="",f="",w=!1;_.each(m,function(e){/^[0-9]+$/.test(e)&&!w?v+=e:(w=!0,f+=e)});var g=new t.Input({name:"sizeValue",model:a,className:"form-control",id:p});a.set("unit",f||"B",{silent:!0}),a.set("sizeValue",v,{silent:!0}),a.on("change:sizeValue change:unit",function(){this.changed.unit&&g.onKeyup(),this.set("size",this.get("sizeValue")+this.get("unit"))}),this.append(l=$("<li>").addClass("filter-settings-view row "+r).attr({"data-test-id":s}).append($("<div>").addClass("col-sm-3 singleline").append($("<span>").addClass("list-title").text(e.view.conditionsTranslation[d.id])),$("<div>").addClass("col-sm-9").append($("<div>").addClass("row").append($("<div>").addClass("col-sm-7").append(new t.DropdownLinkView({name:"comparison",model:a,values:o(d.id,u)}).render().$el),$('<div class="col-sm-4">').append(g.render().$el),$("<div>").addClass("col-sm-1 no-padding-left").append(new i.DropdownLinkView({name:"unit",model:a,values:c}).render().$el,new i.ErrorView({selector:".row"}).render().$el))),t.drawDeleteButton("test"))),t.handleUnsupportedComparisonValues({$li:l,values:o(d.id,u),model:a,inputName:"size"})}}),o.address&&e.point("io.ox/mail/mailfilter/tests").extend({id:"address",index:800,initialize:function(e){var i={address:{id:"address",addresspart:t.returnDefault(a.tests,"address","parts","all"),comparison:t.returnDefault(a.tests,"address","comparisons","is"),headers:[t.returnDefault(a.tests,"address","headers","from")],values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{address:n("Address")}),_.extend(e.conditionsMapping,{address:["address"]}),e.conditionsOrder.push("address")},draw:function(e,i,s,o,d,r){var l,p={all:n("All"),localpart:n("Local-part"),domain:n("Domain"),user:n("User"),detail:n("Detail")},u={from:n("From"),to:n("To"),cc:n("Cc"),bcc:n("Bcc"),sender:n("Sender"),"resent-from":n("Resent-From"),"resent-to":n("Resent-To")},c=_.uniqueId("address_");this.append(l=t.drawCondition({layout:"3",conditionKey:i,inputId:c,title:e.view.conditionsTranslation.address,dropdownOptions:{name:"comparison",model:s,values:o(d.id,t.returnContainsOptions())},seconddropdownOptions:{name:"headers",model:s,values:t.filterHeaderValues(a.tests,"address",u),saveAsArray:!0},thirddropdownOptions:{name:"addresspart",model:s,values:t.filterPartValues(a.tests,"address",p)},inputLabel:e.view.conditionsTranslation.address+" "+p[s.get("comparison")],inputOptions:{name:"values",model:s,className:"form-control",id:c},errorView:!0,addClass:r})),t.handleUnsupportedComparisonValues({$li:l,values:o(d.id,t.returnContainsOptions()),model:s,inputName:"values"})}}),o.string&&e.point("io.ox/mail/mailfilter/tests").extend({id:"string",index:1e3,initialize:function(e){var i={string:{comparison:t.returnDefault(a.tests,"string","comparisons","matches"),source:[""],id:"string",values:[""]}};_.extend(e.defaults.tests,i),_.extend(e.conditionsTranslation,{string:n("String")}),_.extend(e.conditionsMapping,{string:["string"]}),e.conditionsOrder.push("string")},draw:function(e,i,s,a,o,d){var r,l,p=_.uniqueId("values"),u=_.uniqueId("string_");l=e.view.conditionsTranslation.string,this.append(r=t.drawCondition({conditionKey:i,title:l,dropdownOptions:{name:"comparison",model:s,values:a(o.id,t.returnContainsOptions())},inputId:u,InputLabel:n("Source"),inputOptions:{name:"source",model:s,className:"form-control",id:u},secondInputId:p,secondInputLabel:l+" "+t.returnContainsOptions()[s.get("comparison")],secondInputOptions:{name:"values",model:s,className:"form-control",id:p},errorView:!0,addClass:d})),t.handleUnsupportedComparisonValues({$li:r,values:a(o.id,t.returnContainsOptions()),model:s,inputName:"values"})}})}var d=$.Deferred();return a.getConfig().then(o).then(function(){return d.resolve({processConfig:o}),d})});