define("io.ox/mail/actions/ical",["settings!io.ox/core","settings!io.ox/calendar","io.ox/core/notifications","gettext!io.ox/mail"],function(e,o,n,i){"use strict";return function(a){var c=_.isArray(a.data)?_.first(a.data):a.data;require(["io.ox/core/api/conversion"]).done(function(a){a.convert({identifier:"com.openexchange.mail.ical",args:[{"com.openexchange.mail.conversion.fullname":c.parent.folder_id},{"com.openexchange.mail.conversion.mailid":c.parent.id},{"com.openexchange.mail.conversion.sequenceid":c.id}]},{identifier:"com.openexchange.chronos.ical",args:[{"com.openexchange.groupware.calendar.folder":o.get("chronos/defaultFolderId")},{"com.openexchange.groupware.task.folder":e.get("folder/tasks")}]}).done(function(){n.yell("success",i("The appointment has been added to your calendar"))}).fail(n.yell)})}});