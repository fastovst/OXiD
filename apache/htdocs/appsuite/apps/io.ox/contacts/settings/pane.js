define("io.ox/contacts/settings/pane",["io.ox/core/extensions","io.ox/backbone/views/extensible","io.ox/backbone/mini-views","io.ox/core/settings/util","io.ox/core/capabilities","settings!io.ox/contacts","settings!io.ox/core","gettext!io.ox/contacts"],function(e,t,n,i,o,s,a,l){"use strict";e.point("io.ox/contacts/settings/detail").extend({index:100,id:"view",draw:function(){this.append(new t({point:"io.ox/contacts/settings/detail/view",model:s}).inject({getNameOptions:function(){return[{label:l("Language-specific default"),value:"auto"},{label:l("First name Last name"),value:"firstname lastname"},{label:l("Last name, First name"),value:"lastname, firstname"}]},getMapOptions:function(){var e=[{label:l("Google Maps"),value:"google"},{label:l("Open Street Map"),value:"osm"},{label:l("No link"),value:"none"}];return _.device("ios || macos")&&e.splice(2,0,{label:l("Apple Maps"),value:"apple"}),e},openUserSettings:function(){require(["io.ox/core/settings/user"],function(e){e.openModalDialog()})}}).build(function(){this.listenTo(s,"change",function(){s.saveAndYell()})}).render().$el)}});var d=0;e.point("io.ox/contacts/settings/detail/view").extend({id:"header",index:d+=100,render:function(){this.$el.addClass("io-ox-contacts-settings").append(i.header(l("Address Book")))}},{index:d+=100,id:"buttons/top",render:function(e){this.$el.append(e.branch("buttons/top",this,$('<div class="form-group buttons">')))}},{id:"names",index:d+=100,render:function(){this.$el.append(i.fieldset(l("Display of names"),new n.CustomRadioView({name:"fullNameFormat",model:s,list:this.getNameOptions()}).render().$el))}},{id:"startfolder",index:d+=100,render:function(){o.has("gab !alone")&&s.isConfigurable("startInGlobalAddressbook")&&this.$el.append(i.fieldset(l("Initial folder"),$('<div class="form-group">').append(i.checkbox("startInGlobalAddressbook",l("Start in global address book"),s))))}},{id:"map-service",index:d+=100,render:function(){s.isConfigurable("mapService")&&this.$el.append(i.fieldset(l("Link postal addresses with map service"),new n.CustomRadioView({name:"mapService",model:s,list:this.getMapOptions()}).render().$el))}}),e.point("io.ox/contacts/settings/detail/view/buttons/top").extend({id:"my-contact-data",index:100,render:function(e){a.get("user/internalUserEdit",!0)&&e.$el.append($('<button type="button" class="btn btn-default">').text(l("My contact data")+" ...").on("click",this.openUserSettings))}})});