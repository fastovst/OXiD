define("io.ox/core/main",["io.ox/core/desktop","io.ox/core/extensions","io.ox/core/extPatterns/stage","io.ox/core/notifications","io.ox/core/commons","io.ox/core/upsell","io.ox/core/ping","io.ox/core/a11y","io.ox/core/main/logout","io.ox/core/main/refresh","io.ox/core/main/topbar_right","io.ox/core/main/debug","settings!io.ox/core","gettext!io.ox/core","io.ox/backbone/views/window","io.ox/core/main/registry","io.ox/core/main/offline","io.ox/core/relogin","io.ox/core/links","io.ox/core/http_errors","io.ox/backbone/views/disposable","io.ox/tours/get-started","io.ox/core/main/icons","io.ox/core/main/appcontrol","io.ox/core/main/stages","io.ox/core/main/designs"],function(o,e,i,r,n,t,c,s,a,x,l,u,g,p){"use strict";return $("#io-ox-windowmanager").on("scroll",function(){this.scrollTop>0&&(this.scrollTop=0)}),u("core: Loaded"),ox.trigger("core:load"),_.stepwiseInvoke=function(o,e,i){function r(o){s.push(o)}function n(){if(0===o.length)return c.resolve(s);var a=o.shift();if(a&&_.isFunction(a[e])){var x=a[e].apply(i,t);if(x&&x.promise)return x.done(r).then(n,c.reject)}n()}if(!_.isArray(o))return $.when();var t=Array.prototype.slice.call(arguments,3),c=$.Deferred(),s=[];return n(),c.promise()},e.point("io.ox/core/mobile").extend({id:"i18n",draw:function(){$(document).trigger("dropdown:translate",p("Close"))}}),{logout:a,launch:function(){""===location.hash&&(location.hash="#!!");var o=e.Baton();u("core: launch > run stages"),i.run("io.ox/core/stages",o)}}});