define("io.ox/core/strings",["io.ox/core/locale","gettext!io.ox/core"],function(r,t){"use strict";function e(){n=[t("B"),t("KB"),t("MB"),t("GB"),t("TB"),t("PB"),t("EB"),t("ZB"),t("YB")]}var n;return{shortenUri:function(r,t){var e=(r=void 0!==r&&null!==r?r:"").replace(/^https?:\/\//,""),n=e.length-t;if(n<=0)return e;var o=e.length/2,i=o-n/2-1,u=o+n/2+1;return e.substring(0,i)+"..."+e.substring(u,e.length)},fileSize:function(o,i){n||e();var u=0,s=n.length,c=!1;i>10&&(i=10),"smart"===i&&(i=3,c=!0);for(var l=Math.pow(10,i||0);o>=1024&&u<s;)o/=1024,u++;return 1024===(o=Math.round(o*l)/l)&&(o/=1024,u++),c&&u<3&&(i=0),t("%1$d %2$s",c?r.number(o,0,i):r.number(o,i),n[u])},size:function(r,t){var e=encodeURI(r).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1;return t?(e/1024).toFixed():e}}});