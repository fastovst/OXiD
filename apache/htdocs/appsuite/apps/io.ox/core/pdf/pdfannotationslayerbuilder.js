define("io.ox/core/pdf/pdfannotationslayerbuilder",["io.ox/core/pdf/pdfpolyfill","io.ox/core/pdf/pdfsimplelinkservice","pdfjs-dist/build/pdf","pdfjs-dist/build/pdf.worker"],function(i,e,n){"use strict";var t=document.mozL10n||document.webL10n;return function(){function i(i){this.pageDiv=i.pageDiv,this.pdfPage=i.pdfPage,this.linkService=i.linkService||new e,this.div=null}return i.prototype={render:function(i,e){var d=this,o={intent:void 0===e?"display":e};this.pdfPage.getAnnotations(o).then(function(e){if(i=i.clone({dontFlip:!0}),o={viewport:i,div:d.div,annotations:e,page:d.pdfPage,linkService:d.linkService,imageResourcesPath:ox.abs+ox.root+"/apps/pdfjs-dist/web/images/"},d.div)n.AnnotationLayer.update(o);else{if(0===e.length)return;d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),o.div=d.div,n.AnnotationLayer.render(o),void 0!==t&&t.translate(d.div)}})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}},i}()});