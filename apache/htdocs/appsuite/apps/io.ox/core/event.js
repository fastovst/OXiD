define("io.ox/core/event",function(){"use strict";var t=function(t,e,n){var r=e?{data:t,fn:e}:{data:{},fn:t};return r.fn=n?$.proxy(r.fn,n):r.fn,r},e=function(e){var n=$({});this.on=function(r,i,o){var f=t(i,o,e);return n.on(r,f.data,f.fn),this},this.off=function(t,e){return n.off(t,e),this},this.one=function(r,i,o){var f=t(i,o,e);return n.one(r,f.data,f.fn),this},this.trigger=function(){function t(t){i.triggerHandler(t,e),_.isObject(t)&&(t=t.type),i.triggerHandler("triggered",_([t,e]).flatten(!0))}var e=$.makeArray(arguments),r=e.shift(),i=n;return _.isString(r)?_(r.split(/\s+/)).each(t):_.isObject(r)&&_.isString(r.type)&&t(r),this},this.destroy=function(){if(n){if(n.off(),e)try{delete e.events,delete e.on,delete e.off,delete e.one,delete e.trigger}catch(t){ox.debug&&console.error(t)}n=e=null,this.on=this.off=this.one=this.trigger=null}},this.list=function(){return $._data(n.get(0),"events")}};return e.extend=function(t){return t=t||{},t.events=new e(t),t.on=t.events.on,t.off=t.events.off,t.one=t.events.one,t.trigger=t.events.trigger,t},e});