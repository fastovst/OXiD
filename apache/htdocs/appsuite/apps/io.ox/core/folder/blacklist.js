define("io.ox/core/folder/blacklist",["io.ox/core/extensions","settings!io.ox/core","settings!io.ox/files"],function(e,t,i){"use strict";function n(e,t){return e&&!!t}var o=e.point("io.ox/core/folder/filter"),r=t.get("folder/blacklist",{}),l={},s=_(r).keys().sort();return ox.debug&&s.length>0&&console.info("Blacklisted folders:",s),o.extend({id:"blacklist",index:100,visible:function(e){var i=e.data,n=String(i.id);return!(r=_.extend(t.get("folder/blacklist",{}),l))[n]}},{id:"dot-folders",index:200,visible:function(e){return"infostore"!==e.data.module||(!0===i.get("showHidden",!1)||!/^\./.test(e.data.title))}}),{hash:r,filter:function(t){var i=e.Baton({data:t});return o.invoke("visible",null,i).reduce(n,!0).value()},visible:function(e){return this.filter(e)},apply:function(e){return _(e).filter(this.filter,this)},add:function(e){l[e]=!0}}});