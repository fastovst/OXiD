define("io.ox/core/settings/editLocale",["io.ox/backbone/views","io.ox/core/extensions","io.ox/backbone/mini-views","io.ox/backbone/views/modal","io.ox/core/locale","io.ox/core/settings/util","settings!io.ox/core","gettext!io.ox/core"],function(e,t,i,o,a,n,s,r){"use strict";var l="io.ox/core/settings/edit-locale",d=0;return t.point(l).extend({index:d+=100,id:"time",render:function(){this.$body.append(n.compactSelect("timeLong",r("Time format"),this.model,this.getTimeOptions(),{width:12}))}},{index:d+=100,id:"date",render:function(){this.$body.append(n.compactSelect("date",r("Date format"),this.model,this.getDateOptions(),{width:12}))}},{index:d+=100,id:"number",render:function(){this.$body.append(n.compactSelect("number",r("Number format"),this.model,this.getNumberOptions(),{width:12}))}},{index:d+=100,id:"first-day-week",render:function(){this.$body.append(n.compactSelect("firstDayOfWeek",r("First day of the week"),this.model,this.getFirstDayOfWeekOptions(),{width:12}))}},{index:d+=100,id:"first-day-year",render:function(){this.$body.append(n.compactSelect("firstDayOfYear",r("First week of the year"),this.model,this.getFirstDayOfYearOptions(),{width:12}))}}),{open:function(){return new o({focus:"#settings-time",model:new Backbone.Model,point:l,title:r("Regional settings"),width:560}).inject({getTimeOptions:function(){return[{label:r("9:00 AM (12 hours)"),value:"h:mm:ss a"},{label:r("09:00 AM (12 hours)"),value:"hh:mm:ss a"},{label:r("9:00 (24 hours)"),value:"H:mm:ss"},{label:r("09:00 (24 hours)"),value:"HH:mm:ss"},{label:r("9.00 (24 hours)"),value:"H.mm.ss"},{label:r("09.00 (24 hours)"),value:"HH.mm.ss"}]},getDateOptions:function(){return a.getDateFormatOptions()},getNumberOptions:function(){return a.getNumberFormats().map(function(e){return{label:e,value:e}})},getFirstDayOfWeekOptions:function(){var e=moment.localeData().weekdays();return[{label:e[1],value:"monday"},{label:e[6],value:"saturday"},{label:e[0],value:"sunday"}]},getFirstDayOfYearOptions:function(){return[{label:r("Week that contains January 1st (e.g. US, Canada)"),value:1},{label:r("Week that contains January 4th (e.g. Europe, ISO-8601)"),value:4}]}}).addAlternativeButton({label:r("Reset"),action:"reset"}).addCancelButton().addButton({label:r("Save"),action:"save"}).on("open",function(){this.initial=a.getLocaleData(),this.model.set(this.initial)}).on("save",function(){this.model.changedAttributes(this.initial)&&a.setLocaleData(this.model.toJSON())}).on("reset",function(){a.resetLocaleData()}).open()}}});