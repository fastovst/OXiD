define("io.ox/core/main/offline",["io.ox/core/notifications","gettext!io.ox/core"],function(n,o){function i(o){t||($("#io-ox-offline").text(o).stop().show().animate({bottom:"0px"},200,function(){t=!0}),n.yell("screenreader",o))}function e(){t&&$("#io-ox-offline").stop().animate({bottom:"-41px"},200,function(){$(this).hide(),t=!1})}var t=!1;ox.on({"connection:online":function(){e(),ox.online=!0},"connection:offline":function(){i(o("Offline")),ox.online=!1},"connection:up":function(){ox.online&&e()},"connection:down":function(){ox.online&&i(o("Server unreachable"))}}),ox.online||$(window).trigger("offline")});