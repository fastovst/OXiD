define("io.ox/files/mediasupport",["settings!io.ox/files"],function(e){"use strict";var r={audio:{Chrome:"mp3|wav|m4a|m4b|ogg",Safari:"mp3|wav|m4a|m4b|aac",IE:"mp3|m4a|m4b",Firefox:"mp3|wav|ogg|opus"},video:{Chrome:"m4v|ogv|webm",Safari:"m4v",IE:"m4v",Firefox:"ogv|webm"}};return{hasSupport:function(r){if("audio"===r){if(!e.get("audioEnabled"))return!1;if(_.device("android"))return!1}return!("video"===r&&!e.get("videoEnabled"))&&!!Modernizr[r]},supportedExtensionsArray:function(e){if(!e)return[];var r=this.supportedExtensions(e);return r&&r.length?r.split("|"):[]},supportedExtensions:function(e){if(!this.hasSupport(e))return"";var i="";return _.each(_.browser,function(t,o){t&&r[e][o]&&(i=r[e][o])}),i},checkFile:function(e,r){if(!this.hasSupport(e))return!1;if(""===this.supportedExtensions(e))return!1;var i="\\.("+this.supportedExtensions(e)+")";return new RegExp(i,"i").test(r)}}});